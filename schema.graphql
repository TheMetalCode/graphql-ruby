input AUTH_PROVIDER_EMAIL {
  email: String!
  password: String!
}

input AuthProviderSignupData {
  email: AUTH_PROVIDER_EMAIL
}

scalar DateTime

type Link implements Node {
  createdAt: DateTime!
  description: String!
  id: ID!
  postedBy: User!
  url: String!
  votes: [Vote!]!
}

input LinkFilter {
  OR: [LinkFilter!]
  descriptionContains: String
  urlContains: String
}

enum LinkOrderBy {
  createdAt_ASC
  createdAt_DESC
}

type Mutation {
  createLink(description: String!, url: String!): Link!
  createUser(authProvider: AuthProviderSignupData, name: String!): User!
  createVote(linkId: ID): Vote!
  signinUser(email: AUTH_PROVIDER_EMAIL): SignInUserPayload
}

"""
An object with an ID.
"""
interface Node {
  """
  ID of the object.
  """
  id: ID!
}

type Query {
  _allLinksMeta: _QueryMeta!
  allLinks(filter: LinkFilter, first: Int, orderBy: LinkOrderBy = createdAt_DESC, skip: Int): [Link]

  """
  Fetches an object given its ID.
  """
  node(
    """
    ID of the object.
    """
    id: ID!
  ): Node

  """
  Fetches a list of objects given a list of IDs.
  """
  nodes(
    """
    IDs of the objects.
    """
    ids: [ID!]!
  ): [Node]!
}

"""
Autogenerated return type of SignInUser
"""
type SignInUserPayload {
  token: String
  user: User
}

type User implements Node {
  createdAt: DateTime!
  email: String!
  id: ID!
  links: [Link!]!
  name: String!
  votes: [Vote!]!
}

type Vote implements Node {
  createdAt: DateTime!
  id: ID!
  link: Link!
  user: User!
}

type _QueryMeta {
  count: Int!
}